"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(_,d,a)=>{a.r(d),a.d(d,{HomePageModule:()=>b});var c=a(9808),e=a(6359),m=a(4182),r=a(4108),n=a(2096),u=a(361);function f(t,s){1&t&&(n.TgZ(0,"ion-col",3),n._UZ(1,"ion-spinner",4),n.qZA())}function p(t,s){1&t&&(n.TgZ(0,"ion-col",3)(1,"p"),n._uU(2,"No transactions found!"),n.qZA()())}function h(t,s){if(1&t&&(n.TgZ(0,"ion-col",3)(1,"ion-label")(2,"h1"),n._uU(3),n.qZA()()()),2&t){const o=n.oxw().$implicit;n.xp6(3),n.hij("Type: ",o.type,"")}}const Z=function(t){return["/","home","transaction",t]};function P(t,s){if(1&t){const o=n.EpF();n.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-row",5)(3,"ion-col")(4,"ion-toolbar")(5,"div",6)(6,"ion-buttons")(7,"ion-fab-button",7),n._UZ(8,"ion-icon",8),n.qZA(),n.TgZ(9,"ion-fab-button",9),n.NdJ("click",function(){const g=n.CHM(o).$implicit;return n.oxw().onUpdateTransaction(g)}),n._UZ(10,"ion-icon",10),n.qZA(),n.TgZ(11,"ion-fab-button",11),n.NdJ("click",function(){const g=n.CHM(o).$implicit;return n.oxw().onDeleteTransaction(g.transactionId)}),n._UZ(12,"ion-icon",12),n.qZA()()()()()(),n.TgZ(13,"ion-row"),n.YNc(14,h,4,1,"ion-col",1),n.qZA()(),n.TgZ(15,"ion-list",13)(16,"ion-item")(17,"ion-label"),n._uU(18),n.qZA()(),n.TgZ(19,"ion-item")(20,"ion-label"),n._uU(21),n.ALo(22,"number"),n.qZA()()()()}if(2&t){const o=s.$implicit,i=n.oxw();n.xp6(7),n.Q6J("routerLink",n.VKq(7,Z,o.transactionId)),n.xp6(7),n.Q6J("ngIf",!i.isLoading&&i.transactions&&i.transactions.length>0),n.xp6(4),n.hij("Month/Year: ",o.monthYear,""),n.xp6(3),n.hij("Total amount: ",n.xi3(22,4,o.totalAmount,"1.2-2")," RSD")}}const T=[{path:"",component:(()=>{class t{constructor(o,i,l){this.transactionService=o,this.nav=i,this.loadingCtrl=l,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.transactionSub=this.transactionService.getTransactions().subscribe(()=>{this.isLoading=!1},o=>{this.isLoading=!1,this.message=o.error}),this.transactionSub=this.transactionService.transactions.subscribe(o=>{this.transactions=o,console.log(this.transactions)})}onUpdateTransaction(o){this.nav.navigateForward("/new-transaction",{state:{title:"Edit transaction",id:o.transactionId,type:o.type,monthYear:o.monthYear,totalAmount:o.totalAmount,transactionItems:o.transactionItems.map(i=>Object.assign(Object.assign({},i),{date:new Date(i.date).toISOString().slice(0,10)}))}}),console.log("TEST")}onDeleteTransaction(o){this.loadingCtrl.create({message:"Deleting transaction..."}).then(i=>{i.present(),this.transactionService.deleteTransaction(o).subscribe(()=>{i.dismiss()})})}ngOnDestroy(){this.transactionSub&&this.transactionSub.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(u.p),n.Y36(e.SH),n.Y36(e.HT))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-home"]],decls:13,vars:3,consts:[["slot","start"],["sizeMd","6","offsetMd","3","class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["sizeMd","6","offsetMd","3",1,"ion-text-center"],["color","primary"],["sizeMd","6","offsetMd","3"],[1,"flex-container"],["size","small","color","tertiary",3,"routerLink"],["name","eye"],["size","small","color","primary",3,"click"],["name","pencil"],["size","small","color","danger",3,"click"],["name","trash"],[1,"ion-no-padding"]],template:function(o,i){1&o&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-menu-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Home"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row"),n.YNc(9,f,2,0,"ion-col",1),n.qZA(),n.TgZ(10,"ion-row"),n.YNc(11,p,3,0,"ion-col",1),n.qZA(),n.YNc(12,P,23,9,"ion-card",2),n.qZA()()),2&o&&(n.xp6(9),n.Q6J("ngIf",i.isLoading),n.xp6(2),n.Q6J("ngIf",!i.isLoading&&(!i.transactions||i.transactions.length<=0)),n.xp6(1),n.Q6J("ngForOf",i.transactions))},directives:[e.Gu,e.sr,e.Sm,e.fG,e.wd,e.W2,e.jY,e.Nd,c.O5,e.wI,e.PQ,c.sg,e.PM,e.Zi,e.W4,e.YI,r.rH,e.gu,e.Q$,e.q_,e.Ie],pipes:[c.JJ],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{--background: #edebeb}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})()},{path:"transaction/:transactionId",loadChildren:()=>a.e(4269).then(a.bind(a,4269)).then(t=>t.TransactionDetailPageModule)}];let x=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.Bz.forChild(T)],r.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[c.ez,m.u5,e.Pc,x]]}),t})()}}]);