"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8652],{8652:(R,d,l)=>{l.r(d),l.d(d,{NewTransactionPageModule:()=>H});var u=l(9808),r=l(4182),i=l(6359),g=l(4108),e=l(2096),p=l(5741),h=l(361);const w=["filePicker"];function C(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-img",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().onPickImage()}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("src",t.isFetchedImage&&!t.selectedImage?t.fetchedImage:t.selectedImage)}}function Z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().onPickImage()}),e._UZ(1,"ion-icon",6),e.TgZ(2,"ion-label"),e._uU(3,"Import Image"),e.qZA()()}}function y(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",7,8),e.NdJ("change",function(a){return e.CHM(t),e.oxw().onFileChosen(a)}),e.qZA()}}let v=(()=>{class o{constructor(){this.imagePick=new e.vpe,this.isFetchedImage=!1,this.showPreview=!1,this.usePicker=!0}ngOnInit(){}ngOnChanges(t){this.isFetchedImage&&(this.selectedImage=null)}onPickImage(){this.filePickerRef.nativeElement.click()}onFileChosen(t){const n=t.target.files[0];if(!n)return;const a=new FileReader;a.onload=()=>{const c=a.result.toString();this.selectedImage=c,this.imagePick.emit(n)},a.readAsDataURL(n)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-input"]],viewQuery:function(t,n){if(1&t&&e.Gf(w,5),2&t){let a;e.iGM(a=e.CRH())&&(n.filePickerRef=a.first)}},inputs:{isFetchedImage:"isFetchedImage",fetchedImage:"fetchedImage",showPreview:"showPreview"},outputs:{imagePick:"imagePick"},features:[e.TTD],decls:4,vars:3,consts:[[1,"image-input"],["role","button","class","image",3,"src","click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["type","file","accept","image/*",3,"change",4,"ngIf"],["role","button",1,"image",3,"src","click"],["color","primary",3,"click"],["name","camera","slot","start"],["type","file","accept","image/*",3,"change"],["filePicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,C,1,1,"ion-img",1),e.YNc(2,Z,4,0,"ion-button",2),e.qZA(),e.YNc(3,y,2,0,"input",3)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.selectedImage&&n.showPreview||n.fetchedImage&&n.showPreview),e.xp6(1),e.Q6J("ngIf",!(n.selectedImage&&n.showPreview||n.fetchedImage&&n.showPreview)),e.xp6(1),e.Q6J("ngIf",n.usePicker))},directives:[u.O5,i.Xz,i.YG,i.gu,i.Q$],styles:[".image-input[_ngcontent-%COMP%]{width:30rem;max-width:80%;height:20rem;max-height:30vh;border:1px solid var(--ion-color-primary);margin:auto;display:flex;justify-content:center;align-items:center}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}input[type=file][_ngcontent-%COMP%]{display:none}"]}),o})();function F(o,s){if(1&o&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.purposeId),e.xp6(1),e.hij(" ",t.name," ")}}function N(o,s){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",22)(2,"span"),e._uU(3,"Please choose a purpose."),e.qZA()()())}function A(o,s){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",4)(2,"span"),e._uU(3,"Please enter a valid date."),e.qZA()()())}function P(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Amount must contain at least 1 digit."),e.qZA())}function b(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Amount must be greater than 0."),e.qZA())}function U(o,s){if(1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",4),e.YNc(2,P,2,0,"span",15),e.YNc(3,b,2,0,"span",15),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.transactionForm.get("transactionItems").get("amount").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.transactionForm.get("transactionItems").get("amount").hasError("min"))}}function q(o,s){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",4)(2,"span"),e._uU(3,"Please import image."),e.qZA()()())}let x=(()=>{class o{constructor(t,n){this.modalCtrl=t,this.transactionService=n,this.isFetchedImage=!1,this.isPopulated=!1,this.isTypeChosen=!0,this.isDeposit=!1,this.isPersonalIncome=!1,this.isBusinessIncome=!1,this.isPersonalExpense=!1,this.isBusinessExpense=!1}ngOnInit(){this.transactionForm.get("type").value||(this.isTypeChosen=!1),this.transactionForm.get("type").value===p.iU.Deposit&&(this.isDeposit=!0)}onCancel(){this.modalCtrl.dismiss()}onAddItem(){let t;this.transactionService.uploadImage(this.transactionForm.get("transactionItems").get("imageUrl").value).subscribe(n=>{t=n.url,this.modalCtrl.dismiss({purposeId:this.transactionForm.get("transactionItems").get("purposeId"),date:this.transactionForm.get("transactionItems").get("date"),amount:this.transactionForm.get("transactionItems").get("amount"),imageUrl:t},"confirm")})}onImageImported(t){this.transactionForm.get("transactionItems").patchValue({imageUrl:t}),this.isFetchedImage=!1,this.isPopulated=!0}onPersonalIncomeChange(t){!0===t.checked?(this.isPersonalIncome=!0,this.isBusinessIncome=!1,this.filterPurposesByItemCategory(+t.value)):this.isPersonalIncome=!1}onBusinessIncomeChange(t){!0===t.checked?(this.isBusinessIncome=!0,this.isPersonalIncome=!1,this.filterPurposesByItemCategory(+t.value)):this.isBusinessIncome=!1}onPersonalExpenseChange(t){!0===t.checked?(this.isPersonalExpense=!0,this.isBusinessExpense=!1,this.filterPurposesByItemCategory(+t.value)):this.isPersonalExpense=!1}onBusinessExpenseChange(t){!0===t.checked?(this.isBusinessExpense=!0,this.isPersonalExpense=!1,this.filterPurposesByItemCategory(+t.value)):this.isBusinessExpense=!1}filterPurposesByItemCategory(t){this.filteredPurposes=this.purposes.filter(n=>n.itemCategory.itemCategoryId===t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.IN),e.Y36(h.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-transaction-modal"]],inputs:{title:"title",transactionForm:"transactionForm",minDate:"minDate",maxDate:"maxDate",itemCategories:"itemCategories",purposes:"purposes"},decls:71,vars:25,consts:[[3,"click"],["name","close"],[3,"formGroup","ngSubmit"],["formGroupName","transactionItems"],["sizeSm","6","offsetSm","3"],[2,"padding","15px"],["lines","none"],[3,"value","disabled","checked","ionChange"],["pi",""],["bi",""],["pe",""],["be",""],["position","floating"],["interface","popover","name","purposeId","required","","formControlName","purposeId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["position","fixed"],["type","date","required","","formControlName","date",3,"min","max"],["type","number","required","","formControlName","amount"],[3,"showPreview","fetchedImage","isFetchedImage","imagePick"],["type","submit","color","primary","expand","block",3,"disabled"],[3,"value"],["size-sm","6","offset-sm","3"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-grid")(3,"ion-row")(4,"ion-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-buttons")(7,"ion-button",0),e.NdJ("click",function(){return n.onCancel()}),e._UZ(8,"ion-icon",1),e.qZA()()()()()(),e.TgZ(9,"ion-content")(10,"form",2),e.NdJ("ngSubmit",function(){return n.onAddItem()}),e.TgZ(11,"div",3)(12,"ion-grid")(13,"ion-row")(14,"ion-col",4)(15,"ion-label",5),e._uU(16,"Item category:"),e.qZA()()(),e.TgZ(17,"ion-list")(18,"ion-item",6)(19,"ion-row")(20,"ion-col",4)(21,"ion-label"),e._uU(22,"Personal income"),e.qZA(),e.TgZ(23,"ion-checkbox",7,8),e.NdJ("ionChange",function(){e.CHM(a);const m=e.MAs(24);return n.onPersonalIncomeChange(m)}),e.qZA()(),e.TgZ(25,"ion-col",4)(26,"ion-label"),e._uU(27,"Business income"),e.qZA(),e.TgZ(28,"ion-checkbox",7,9),e.NdJ("ionChange",function(){e.CHM(a);const m=e.MAs(29);return n.onBusinessIncomeChange(m)}),e.qZA()()(),e.TgZ(30,"ion-row")(31,"ion-col",4)(32,"ion-label"),e._uU(33,"Personal expense"),e.qZA(),e.TgZ(34,"ion-checkbox",7,10),e.NdJ("ionChange",function(){e.CHM(a);const m=e.MAs(35);return n.onPersonalExpenseChange(m)}),e.qZA()(),e.TgZ(36,"ion-col",4)(37,"ion-label"),e._uU(38,"Business expense"),e.qZA(),e.TgZ(39,"ion-checkbox",7,11),e.NdJ("ionChange",function(){e.CHM(a);const m=e.MAs(40);return n.onBusinessExpenseChange(m)}),e.qZA()()()()(),e.TgZ(41,"ion-row")(42,"ion-col",4)(43,"ion-item")(44,"ion-label",12),e._uU(45,"Purpose:"),e.qZA(),e.TgZ(46,"ion-select",13),e.YNc(47,F,2,2,"ion-select-option",14),e.qZA()()()(),e.YNc(48,N,4,0,"ion-row",15),e.TgZ(49,"ion-row")(50,"ion-col",4)(51,"ion-item")(52,"ion-label",16),e._uU(53,"Date:"),e.qZA(),e._UZ(54,"ion-input",17),e.qZA()()(),e.YNc(55,A,4,0,"ion-row",15),e.TgZ(56,"ion-row")(57,"ion-col",4)(58,"ion-item")(59,"ion-label",12),e._uU(60,"Amount:"),e.qZA(),e._UZ(61,"ion-input",18),e.qZA()()(),e.YNc(62,U,4,2,"ion-row",15),e.TgZ(63,"ion-row")(64,"ion-col",4)(65,"app-image-input",19),e.NdJ("imagePick",function(m){return n.onImageImported(m)}),e.qZA()()(),e.YNc(66,q,4,0,"ion-row",15),e.TgZ(67,"ion-row")(68,"ion-col",4)(69,"ion-button",20),e._uU(70," Add "),e.qZA()()()()()()()}2&t&&(e.xp6(5),e.Oqu(n.title),e.xp6(5),e.Q6J("formGroup",n.transactionForm),e.xp6(13),e.Q6J("value",n.itemCategories[0].itemCategoryId)("disabled",!n.isTypeChosen||!n.isDeposit)("checked",n.isPersonalIncome),e.xp6(5),e.Q6J("value",n.itemCategories[1].itemCategoryId)("disabled",!n.isTypeChosen||!n.isDeposit)("checked",n.isBusinessIncome),e.xp6(6),e.Q6J("value",n.itemCategories[2].itemCategoryId)("disabled",!n.isTypeChosen||n.isDeposit)("checked",n.isPersonalExpense),e.xp6(5),e.Q6J("value",n.itemCategories[3].itemCategoryId)("disabled",!n.isTypeChosen||n.isDeposit)("checked",n.isBusinessExpense),e.xp6(8),e.Q6J("ngForOf",n.filteredPurposes),e.xp6(1),e.Q6J("ngIf",n.transactionForm.get("transactionItems").get("purposeId").invalid&&!n.transactionForm.get("transactionItems").get("purposeId").touched&&n.transactionForm.get("transactionItems").get("purposeId").dirty),e.xp6(6),e.Q6J("min",n.minDate)("max",n.maxDate),e.xp6(1),e.Q6J("ngIf",n.transactionForm.get("transactionItems").get("date").invalid&&n.transactionForm.get("transactionItems").get("date").touched),e.xp6(7),e.Q6J("ngIf",n.transactionForm.get("transactionItems").get("amount").invalid&&n.transactionForm.get("transactionItems").get("amount").touched),e.xp6(3),e.Q6J("showPreview",!!n.transactionForm.get("transactionItems").get("imageUrl").value)("fetchedImage",n.transactionForm.get("transactionItems").get("imageUrl").value)("isFetchedImage",n.isFetchedImage),e.xp6(1),e.Q6J("ngIf",n.transactionForm.get("transactionItems").get("imageUrl").invalid&&n.transactionForm.get("transactionItems").get("imageUrl").touched),e.xp6(3),e.Q6J("disabled",!n.isPopulated))},directives:[i.Gu,i.sr,i.jY,i.Nd,i.wd,i.Sm,i.YG,i.gu,i.W2,r._Y,r.JL,r.sg,r.x0,i.wI,i.Q$,i.q_,i.Ie,i.nz,i.w,i.t9,i.QI,r.Q7,r.JJ,r.u,u.sg,i.n0,u.O5,i.pK,i.j9,i.as,v],styles:[""]}),o})();var _=l(4850),f=l(2340),I=l(520);let k=(()=>{class o{constructor(t){this.http=t,this.apiUrl=f.N.apiUrl}getItemCategories(){return this.http.get(this.apiUrl+"itemCategory").pipe((0,_.U)(t=>{const n=[];return t.forEach(a=>{n.push(new p.vd(a.itemCategoryId,a.name))}),n}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),J=(()=>{class o{constructor(t){this.http=t,this.apiUrl=f.N.apiUrl}getPurposes(){return this.http.get(this.apiUrl+"purpose").pipe((0,_.U)(t=>{const n=[];return t.forEach(a=>{n.push(new p.ag(a.purposeId,a.name,a.itemCategory))}),n}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const S=["monthYearRef"];function Y(o,s){if(1&o&&(e.TgZ(0,"ion-select-option",17),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function M(o,s){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",18)(2,"span"),e._uU(3,"Please choose a transaction type."),e.qZA()()())}function Q(o,s){1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",3)(2,"span"),e._uU(3,"Please choose month and year."),e.qZA()()())}function E(o,s){1&o&&(e.TgZ(0,"ion-col",19)(1,"p"),e._uU(2,"No items added!"),e.qZA()())}function D(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item-sliding",null,21)(2,"ion-item")(3,"ion-avatar",0),e._UZ(4,"ion-img",22),e.qZA(),e.TgZ(5,"ion-label")(6,"h6"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()(),e.TgZ(13,"ion-item-options")(14,"ion-item-option",23),e.NdJ("click",function(){const c=e.CHM(t).$implicit,m=e.MAs(1);return e.oxw(2).onCancelItem(c.transactionItemId,m)}),e._UZ(15,"ion-icon",24),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(4),e.Q6J("src",t.imageUrl),e.xp6(3),e.hij("Purpose: ",t.purpose.name,""),e.xp6(2),e.hij("Date: ",e.xi3(10,4,t.date,"MM/dd/yyyy"),""),e.xp6(3),e.hij("Amount: ",t.amount,"")}}function B(o,s){if(1&o&&(e.TgZ(0,"ion-col",3)(1,"ion-list"),e.YNc(2,D,16,7,"ion-item-sliding",20),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.addedTransactionItems)}}function O(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Total amount must contain at least 1 digit."),e.qZA())}function V(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("Your current balance (",t.balance," RSD) is less than withdrawal amount.")}}function G(o,s){if(1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",3),e.YNc(2,O,2,0,"span",7),e.YNc(3,V,2,1,"span",7),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.transactionForm.get("totalAmount").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.transactionForm.get("totalAmount").hasError("max")&&t.transactionForm.get("type").value==t.transactionTypes[1])}}const z=[{path:"",component:(()=>{class o{constructor(t,n,a,c,m,T){this.transactionService=t,this.router=n,this.modalCtrl=a,this.loadingCtrl=c,this.itemCategoryService=m,this.purposeService=T,this.isFetchedImage=!1,this.addedTransactionItems=[],this.transactionItemCounter=0,this.transactionTypes=Object.values(p.iU)}ngOnInit(){this.transactionForm=new r.cw({type:new r.NI("",r.kI.required),monthYear:new r.NI("",r.kI.required),transactionItems:new r.cw({purposeId:new r.NI(0,r.kI.required),date:new r.NI("",r.kI.required),amount:new r.NI("",[r.kI.required,r.kI.min(1)]),imageUrl:new r.NI("",r.kI.required)}),totalAmount:new r.NI(0,[r.kI.required,r.kI.min(1)])}),this.transactionSub=this.transactionService.balance.subscribe(t=>{this.balance=t,this.maxValidator=r.kI.max(this.balance)}),this.itemCategorySub=this.itemCategoryService.getItemCategories().subscribe(t=>{this.itemCategories=t}),this.purposeSub=this.purposeService.getPurposes().subscribe(t=>{this.purposes=t})}ionViewWillEnter(){this.transactionForm.get("totalAmount").setValue(0),history.state.id&&(this.title=history.state.title,this.transactionIdEdit=history.state.id,this.typeEdit=history.state.type,this.monthYearEdit=history.state.monthYear,this.totalAmountEdit=history.state.totalAmount,this.transactionItemsEdit=history.state.transactionItems,this.transactionForm.get("type").setValue(this.typeEdit),this.transactionForm.get("monthYear").setValue(this.monthYearEdit),this.transactionForm.get("totalAmount").setValue(this.totalAmountEdit.toFixed(2)),this.addedTransactionItems=this.transactionItemsEdit,this.transactionForm.get("transactionItems").get("imageUrl").value&&(this.isFetchedImage=!0))}openModal(){this.transactionForm.get("transactionItems").reset(),this.modalCtrl.create({component:x,componentProps:{title:"Add item",transactionForm:this.transactionForm,minDate:this.minDate,maxDate:this.maxDate,itemCategories:this.itemCategories,purposes:this.purposes}}).then(t=>(t.present(),t.onDidDismiss())).then(t=>{if("confirm"===t.role){const n=this.purposes.find(a=>a.purposeId===t.data.purposeId.value).name;this.transactionItemCounter+=1,this.addedTransactionItems.push(new p.AG(this.transactionItemCounter,new Date(t.data.date.value).toISOString().slice(0,10),+t.data.amount.value,t.data.imageUrl.toString(),new p.ag(+t.data.purposeId.value,n))),this.transactionForm.get("totalAmount").setValue(this.transactionForm.get("totalAmount").value+t.data.amount.value)}})}onTypeChange(t){this.transactionForm.get("type").value==this.transactionTypes[1]?this.transactionForm.get("totalAmount").addValidators(this.maxValidator):this.transactionForm.get("type").value==this.transactionTypes[0]&&this.transactionForm.get("totalAmount").hasValidator(this.maxValidator)&&this.transactionForm.get("totalAmount").removeValidators(this.maxValidator),this.transactionForm.get("totalAmount").updateValueAndValidity()}onDateChanged(t){this.monthYear=new Date(t.target.value),this.transactionForm.get("monthYear").setValue(this.monthYear.toLocaleDateString("en-US",{month:"2-digit",year:"numeric"})),this.minDate=new Date(this.monthYear.getFullYear(),this.monthYear.getMonth(),1).toLocaleDateString("en-ca"),this.maxDate=new Date(this.monthYear.getFullYear(),this.monthYear.getMonth(),31).toLocaleDateString("en-ca")}onCancelItem(t,n){n.close(),this.transactionForm.get("totalAmount").setValue(this.transactionForm.get("totalAmount").value-this.addedTransactionItems.find(a=>a.transactionItemId===t).amount),this.addedTransactionItems=this.addedTransactionItems.filter(a=>a.transactionItemId!==t);for(let a=0;a<this.addedTransactionItems.length;a++)this.addedTransactionItems[a].transactionItemId=a+1}onAddTransaction(){this.loadingCtrl.create({message:"Adding transaction..."}).then(t=>{t.present(),this.transactionService.addTransaction(this.transactionForm.value,this.addedTransactionItems).subscribe(()=>{t.dismiss(),this.transactionForm.reset(),this.addedTransactionItems=[],this.transactionItemCounter=0,this.router.navigate(["/home"])})})}onUpdateTransaction(){this.loadingCtrl.create({message:"Updating transaction..."}).then(t=>{t.present(),this.transactionService.updateTransaction(this.transactionIdEdit,this.transactionForm.value,this.addedTransactionItems).subscribe(n=>{console.log(n),t.dismiss(),this.transactionForm.reset(),this.addedTransactionItems=[],this.router.navigate(["/home"])})})}onImageImported(t){this.transactionForm.patchValue({imageUrl:t}),this.isFetchedImage=!1}ngOnDestroy(){this.transactionSub&&this.transactionSub.unsubscribe(),this.itemCategorySub&&this.itemCategorySub.unsubscribe(),this.purposeSub&&this.purposeSub.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.p),e.Y36(g.F0),e.Y36(i.IN),e.Y36(i.HT),e.Y36(k),e.Y36(J))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-transaction"]],viewQuery:function(t,n){if(1&t&&e.Gf(S,5,e.SBq),2&t){let a;e.iGM(a=e.CRH())&&(n.monthYearRef=a.first)}},decls:46,vars:11,consts:[["slot","start"],["defaultHref","/home"],[3,"formGroup","ngSubmit"],["sizeSm","6","offsetSm","3"],["position","floating"],["interface","popover","name","type","required","","formControlName","type",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["presentation","month-year",3,"ionChange"],["slot","end"],["size","small",3,"click"],["name","add"],["sizeSm","6","offsetSm","3","class","ion-text-center","style","color: var(--ion-color-danger)",4,"ngIf"],["sizeSm","6","offsetSm","3",4,"ngIf"],[3,"disabled"],["type","number","required","","formControlName","totalAmount"],["type","submit","color","primary","expand","block",3,"disabled"],[3,"value"],["size-sm","6","offset-sm","3"],["sizeSm","6","offsetSm","3",1,"ion-text-center",2,"color","var(--ion-color-danger)"],[4,"ngFor","ngForOf"],["slidingItem",""],[3,"src"],["color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",2),e.NdJ("ngSubmit",function(){return n.title?n.onUpdateTransaction():n.onAddTransaction()}),e.TgZ(8,"ion-grid")(9,"ion-row")(10,"ion-col",3)(11,"ion-item")(12,"ion-label",4),e._uU(13,"Type:"),e.qZA(),e.TgZ(14,"ion-select",5),e.NdJ("ionChange",function(c){return n.onTypeChange(c)}),e.YNc(15,Y,2,2,"ion-select-option",6),e.qZA()()()(),e.YNc(16,M,4,0,"ion-row",7),e.TgZ(17,"ion-row")(18,"ion-col",3)(19,"ion-item")(20,"ion-label",4),e._uU(21,"Month/Year:"),e.qZA(),e.TgZ(22,"ion-datetime",8),e.NdJ("ionChange",function(c){return n.onDateChanged(c)}),e.qZA()()()(),e.YNc(23,Q,4,0,"ion-row",7),e.TgZ(24,"ion-row")(25,"ion-col",3)(26,"ion-item")(27,"ion-label"),e._uU(28,"Transaction items:"),e.qZA(),e.TgZ(29,"ion-buttons",9)(30,"ion-fab-button",10),e.NdJ("click",function(){return n.openModal()}),e._UZ(31,"ion-icon",11),e.qZA()()()()(),e.TgZ(32,"ion-row"),e.YNc(33,E,3,0,"ion-col",12),e.YNc(34,B,3,1,"ion-col",13),e.qZA(),e.TgZ(35,"ion-row")(36,"ion-col",3)(37,"ion-item",14)(38,"ion-label",4),e._uU(39,"Total amount:"),e.qZA(),e._UZ(40,"ion-input",15),e.qZA()()(),e.YNc(41,G,4,2,"ion-row",7),e.TgZ(42,"ion-row")(43,"ion-col",3)(44,"ion-button",16),e._uU(45),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Oqu(n.title?"Edit transaction":"New transaction"),e.xp6(2),e.Q6J("formGroup",n.transactionForm),e.xp6(8),e.Q6J("ngForOf",n.transactionTypes),e.xp6(1),e.Q6J("ngIf",n.transactionForm.get("type").invalid&&!n.transactionForm.get("type").touched&&n.transactionForm.get("type").dirty),e.xp6(7),e.Q6J("ngIf",n.transactionForm.get("monthYear").invalid&&n.transactionForm.get("monthYear").touched),e.xp6(10),e.Q6J("ngIf",!n.addedTransactionItems||n.addedTransactionItems.length<=0),e.xp6(1),e.Q6J("ngIf",n.addedTransactionItems&&n.addedTransactionItems.length>0),e.xp6(3),e.Q6J("disabled",!0),e.xp6(4),e.Q6J("ngIf",n.transactionForm.get("totalAmount").invalid),e.xp6(3),e.Q6J("disabled",n.transactionForm.invalid||!n.transactionForm.touched),e.xp6(1),e.hij(" ",n.title?"Edit":"Save"," "))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,r._Y,r.JL,r.sg,i.jY,i.Nd,i.wI,i.Ie,i.Q$,i.t9,i.QI,r.Q7,r.JJ,r.u,u.sg,i.n0,u.O5,i.x4,i.W4,i.gu,i.q_,i.td,i.BJ,i.Xz,i.IK,i.u8,i.pK,i.as,i.YG],pipes:[u.uU],styles:[""]}),o})()}];let j=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(z)],g.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,r.u5,i.Pc,j,r.UX]]}),o})()}}]);